# â°ShinhanTimeâ°
## ğŸ’±ì†¡ê¸ˆì˜ ë¬¸í™”ë¥¼ ë°”ê¿€ ì‹œê°„ : ì‹ í•œ íƒ€ì„

**UWB/BLE**ë§Œ ìˆë‹¤ë©´ ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì°¨ì„¸ëŒ€ ê°„í¸ì†¡ê¸ˆí”Œë«í¼â—â—â— <br> <br>

### âœ… ê¸°íš ë°°ê²½

    âœ“ ê°„í¸ ì†¡ê¸ˆ ì„œë¹„ìŠ¤ì˜ ìˆ˜ìš” ê¸‰ì¦
    âœ“ ì¤‘ê³  ê±°ë˜ì™€ í”Œë¦¬ë§ˆì¼“ì˜ í™œì„±í™”
    âœ“ í”Œë«í¼ ë¯¸ì‚¬ìš©ì‹œ, ê°œì¸ê°„ ê±°ë˜ì˜ ë³µì¡ì„± ì¦ê°€ì™€ ê°œì¸ì •ë³´ ìœ ì¶œ ê°€ëŠ¥ì„± 
<br>

### ğŸ“Œí•µì‹¬ ê¸°ëŠ¥
**ì •í™•ì„± [ UWB  ë° BLE ê¸°ë°˜ ê·¼ê±°ë¦¬ ì†¡ê¸ˆ ]** <br>

    - UWB ê¸°ìˆ ì„ í†µí•´ ì†¡ê¸ˆ ëŒ€ìƒìì™€ ìˆ˜ì‹ ìê°€ ì¼ì • ê±°ë¦¬ ë‚´ì— ìˆì„ ë•Œ ìë™ ì¸ì‹
    - UWBì˜ ì •ë°€í•œ ìœ„ì¹˜ íŒŒì•… + BLEì˜ ê´‘ë²”ìœ„í•œ í˜¸í™˜ì„± -> ì†¡ê¸ˆ ëŒ€ìƒìì—ê²Œ ì•ˆì „í•œ ì†¡ê¸ˆ ìˆ˜í–‰
    - UWB ë° BLE í†µì‹  ê³¼ì •ì—ì„œ ëª¨ë“  ë°ì´í„°ëŠ” ê³ ê¸‰ ì•”í˜¸í™” ê¸°ìˆ ë¡œ ë³´í˜¸

**ì‹ ë¢°ì„± [ ìì´ë¡œì„¼ì„œë¥¼ í†µí•œ ê°„í¸ ì†¡ê¸ˆ ë° ì‹ ë¢° ë³´ì¥ ]** <br>

    - ìì´ë¡œ ì„¼ì„œë¥¼ í†µí•´ ë¶ˆí•„ìš”í•œ ì˜¤ì‘ë™ì„ ë°©ì§€í•˜ê³  ë³„ë„ì˜ ì¡°ì‘ ì—†ì´ ì†¡ê¸ˆ ì ˆì°¨ ìë™ ì‹œì‘
    - ë¬¼ë¦¬ì  ì ‘ì´‰ì„ í†µí•œ ì¶”ê°€ ì¸ì¦ ë‹¨ê³„ë¡œ, ì˜ëª»ëœ ì†¡ê¸ˆì„ ë°©ì§€í•˜ì—¬ ì‚¬ìš©ì ì‹ ë¢°ì„± ê°•í™”
    - ìƒì²´ì¸ì‹(ì§€ë¬¸, ì–¼êµ´ ì¸ì‹) ë˜ëŠ” PIN ë²ˆí˜¸ë¥¼ í†µí•œ ì´ì¤‘ ì¸ì¦ ì ˆì°¨ë¡œ ë³´ì•ˆì„± ê°•í™”

**íŠ¹í™”ì„± [ íŒë§¤ì ëŒ€ìƒ ê°„ì´ ì¹´ë“œ ë‹¨ë§ê¸° ê¸°ëŠ¥ ]** <br>

    - íŒë§¤ìì˜ í•¸ë“œí°ì´ ê°„ì´ í‚¤ì˜¤ìŠ¤í¬ì²˜ëŸ¼ ê¸°ëŠ¥í•˜ì—¬, ìƒí’ˆ ì •ë³´ ì…ë ¥/ê°€ê²© ì„¤ì •/ê²°ì œ ìš”ì²­ ë“±ì„ ê´€ë¦¬

<br>

### ğŸ’¬ ì•„ì´ë””ì–´ ì°¨ë³„ì„±
**Easy Safety ê°„í¸ ì†¡ê¸ˆ**

    - UWBì™€ BLE ê¸°ìˆ ì„ ì´ìš©í•œ ê·¼ê±°ë¦¬ í†µì‹ ì„ í†µí•´, ì‚¬ìš©ìëŠ” ë³µì¡í•œ ê³„ì¢Œ ì •ë³´ ì…ë ¥ ì—†ì´ë„ ìë™ìœ¼ë¡œ ì†¡ê¸ˆ ê°€ëŠ¥
    - ìì´ë¡œì„¼ì„œë¥¼ í™œìš©í•œ ê°„ë‹¨í•œ ì¶”ê°€ ì¸ì¦ ë‹¨ê³„ë¡œ ì†¡ê¸ˆì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ë©°, ì´ì¤‘ ì¸ì¦ê³¼ ê³ ê¸‰ ì•”í˜¸í™” ê¸°ìˆ ë¡œ ë°ì´í„° ë³´ì•ˆì„ ë³´ì¥

**Everywhere Easy ê°„ì´ í‚¤ì˜¤ìŠ¤í¬ ìƒì„±**

    - íŒë§¤ì ì¤‘ì‹¬ì˜ íŠ¹í™”ëœ ê¸°ëŠ¥ ì œê³µì„ í†µí•´ í”Œë¦¬ ë§ˆì¼“ê³¼ ê°™ì€ í™˜ê²½ì—ì„œ íŒë§¤ íš¨ìœ¨ ê·¹ëŒ€í™”
    - íŒë§¤ì ëª¨ë“œë¥¼ í†µí•´ ìƒí’ˆ ì •ë³´ ì…ë ¥/ê°€ê²© ì„¤ì • ë“± ê°„ì´ í‚¤ì˜¤ìŠ¤í¬ì²˜ëŸ¼, ê²°ì œ ìš”ì²­ê³¼ ê°™ì´ ê°„ì´ ì¹´ë“œ ë‹¨ë§ê¸°ì²˜ëŸ¼ ë™ì‘ ê°€ëŠ¥

<br>

### ğŸ’¡ ê¸°ëŒ€ íš¨ê³¼
    - í˜ì‹ ì ì¸ ê¸°ìˆ ê³¼ í”Œë¡œìš° ë„ì…ìœ¼ë¡œ ì†¡ê¸ˆ ì‹ ë¢°ì„± í™•ë³´
    - í”Œë«í¼ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ” í†µí•© ì„œë¹„ìŠ¤
    - ë‹¤ê°í™”ëœ ê¸°ëŠ¥ ì œê³µìœ¼ë¡œ ê³ ê° ì ìœ ìœ¨ í™•ë³´

<br>

## ğŸ“ê°œë°œ ì •ë³´ğŸ“
### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
####  Frontend
<img src="https://img.shields.io/badge/Android-34A853?style=for-the-badge&logo=android&logoColor=white">

####  Backend
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
<img src="https://img.shields.io/badge/redis-FF4438?style=for-the-badge&logo=redis&logoColor=white">
<img src="https://img.shields.io/badge/amazons3-569A31?style=for-the-badge&logo=amazons3&logoColor=white">
<img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white">
<img src="https://img.shields.io/badge/solidity-363636?style=for-the-badge&logo=solidity&logoColor=white">
<img src="https://img.shields.io/badge/ethereum-3C3C3D?style=for-the-badge&logo=ethereum&logoColor=white">

####  Infra
<img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white"> <img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white">
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">
<img src="https://img.shields.io/badge/githubactions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white">
<img src="https://img.shields.io/badge/AWS-FF9900?style=for-the-badge&logo=amazonwebservices&logoColor=white">
<img src="https://img.shields.io/badge/amazons3-569A31?style=for-the-badge&logo=amazons3&logoColor=white">

#### í˜‘ì—…
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/mattermost-0058CC?style=for-the-badge&logo=mattermost&logoColor=white">
<img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white">

### ğŸ’¾ ERD
![erd](https://github.com/user-attachments/assets/91b3e006-ee1e-4803-8369-b1eec6271474)

## ğŸ£ ë¹Œë“œ ë° ë°°í¬

### ë¸”ë¡ ì²´ì¸

**ì‚¬ìš© íˆ´ ë° ë²„ì „**

    - go-ethereum(geth) 1.13.15 => 1.14.x ë²„ì „ ì—…ë°ì´íŠ¸ë¡œ í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ ìƒì„±ì´ ê¹Œë‹¤ë¡œì›Œì§.
    - solidity compiler(solc) 0.8.19 => geth ë²„ì „ê³¼ í†µì¼.
    - web3j 1.6.1

**blockchain ê²½ë¡œ ìƒì„±**

``` Bash
mkdir blockchain
```

**ê´€ë¦¬ì ê³„ì¢Œ ìƒì„±**

``` Bash
geth --datadir {ì‚¬ìš©ì ë¸”ë¡ì²´ì¸ ê²½ë¡œ} account new
// password ì…ë ¥ í•„ìš”.
```

**ì œë„¤ì‹œìŠ¤ ë¸”ë¡ íŒŒì¼ ìƒì„±**

``` json
{
  "config": {
    "chainId": 1234,
    "homesteadBlock": 0,
    "eip150Block": 0,
    "eip155Block": 0,
    "eip158Block": 0,
    "byzantiumBlock": 0,
    "constantinopleBlock": 0,
    "petersburgBlock": 0,
    "istanbulBlock": 0,
    "clique": {
      "period": 5,
      "epoch": 30000
    }
  },
  "difficulty": "1",
  "gasLimit": "8000000",
  "alloc": {
    "ì‚¬ìš©ì ê´€ë¦¬ì ê³„ì¢Œ ì£¼ì†Œ": { "balance": "1000000000000000000000000" }
  },
  "extradata": "0x0000000000000000000000000000000000000000000000000000000000000000{ì‚¬ìš©ì ê´€ë¦¬ì ê³„ì¢Œ ì£¼ì†Œ}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
}

```

**ì œë„¤ì‹œìŠ¤ ë¸”ë¡ìœ¼ë¡œ í”„ë¼ì´ë¹— ë„¤íŠ¸ì›ŒíŠ¸ ì´ˆê¸°í™”**

``` Bash
geth --datadir {ì‚¬ìš©ì ë¸”ë¡ì²´ì¸ ê²½ë¡œ} init {ì œë„¤ì‹œìŠ¤ ë¸”ë¡ ê²½ë¡œ}
```

**í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ ì‹¤í–‰**

``` Bash
geth --datadir {ì‚¬ìš©ì ë¸”ë¡ì²´ì¸ ê²½ë¡œ} --networkid 1234 --nodiscover --unlock {ì‚¬ìš©ì ê´€ë¦¬ì ê³„ì¢Œ ì£¼ì†Œ} --password {ì‚¬ìš©ì ê´€ë¦¬ì ê³„ì¢Œ ë¹„ë°€ë²ˆí˜¸} --verbosity 3 console --http --http.addr "127.0.0.1" --http.port "8545" --http.api personal,eth,net,web3,miner --http.corsdomain "*" --allow-insecure-unlock
```

**ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¸”ë¡ ë§ˆì´ë‹**

``` Bash
miner.setEtherbase(eth.accounts[0])
miner.start()
eth.blockNumber // ë¸”ë¡ì´ ì¶”ê°€ ë¨ì„ ë¡¹ì¸
```

### AWS
<img width="631" alt="AWS_set" src="https://github.com/user-attachments/assets/c032fc2d-0e9c-49bd-8067-c172a39aba20">

**GitHub Actionì„ í†µí•œ ë¹Œë“œ ë° ë°°í¬ ìë™í™”**

```
name: Java CI with Gradle

on:
  push:
    branches: [ "develop", "main" ]
  pull_request:
    branches: [ "main" ]
jobs:
  build:
    runs-on: ubuntu-latest
    permissions: write-all
    steps:
    - uses: actions/checkout@v4
    
    ## jdk setting
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
        
    ## gralew ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬  
    - name: Grant execute permission for gradlew
      run: chmod +x ./gradlew
      
    - name: Setup Gradle
      uses: gradle/actions/setup-gradle@af1da67850ed9a4cedd57bfd976089dd991e2582 # v4.0.0
    
    ## ë¹Œë“œ 
    - name: Build with Gradle
      run: ./gradlew build -x test
      
    ## Docker hub login & build & push
    - name: Docker hub login
      uses: docker/login-action@v3
      with:
        username: ${{ secrets.DOCKER_ID }}
        password: ${{ secrets.DOCKER_PASSWORD }}
        
    - name: Docker image build
      run: |
        docker build -f Dockerfile -t ${{ secrets.DOCKER_USERNAME }}/${{ secrets.DOCKER_REPO }} .
        docker push ${{ secrets.DOCKER_USERNAME }}/${{ secrets.DOCKER_REPO }}

    ## ì‹¤í–‰ë˜ê³  ìˆëŠ” IP ê°€ì ¸ì™€ì„œ EC2 ë³´ì•ˆ ê·¸ë£¹ì— ì¶”ê°€í•˜ì—¬ ì ‘ê·¼í•˜ê¸°
    - name: Get Public IP
      id: ip
      uses: haythem/public-ip@v1.3

    - name: Configure AWS credentials
      uses: aws-actions/configure-aws-credentials@v4
      with:
        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        aws-region: 'ap-northeast-2'

    - name: Add GitHub Actions IP
      run: |
        aws ec2 authorize-security-group-ingress \
            --group-id ${{ secrets.SECURITY_GROUP_ID }} \
            --protocol tcp \
            --port 22 \
            --cidr ${{ steps.ip.outputs.ipv4 }}/32

    ################## CD ##################

    ## AWS EC2 ì ‘ì†
    - name: Deploy to Dev
      uses: appleboy/ssh-action@master
      with:
        host: "${{ secrets.GDP_HOST }}"
        username: "${{ secrets.GDP_USERNAME }}"
        key: "${{ secrets.GDP_KEY }}"
        script: |
            sudo docker pull ${{ secrets.DOCKER_USERNAME }}/${{ secrets.DOCKER_REPO }}
            sudo docker-compose down
            sudo docker-compose -f "docker-compose.yml" up -d --build
    ## ì‹¤í–‰
    ## ì‚¬ìš©í•œ IP ë³´ì•ˆ ê·¸ë£¹ ì‚­ì œ
    - name: Remove GitHub Actions IP
      run: |
        aws ec2 revoke-security-group-ingress \
            --group-id ${{ secrets.SECURITY_GROUP_ID }} \
            --protocol tcp \
            --port 22 \
            --cidr ${{ steps.ip.outputs.ipv4 }}/32
```

